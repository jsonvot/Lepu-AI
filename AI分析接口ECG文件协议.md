# AI 分析接口ECG文件格式说明

## ECG文件说明
AI分析接口支持ER1、ER2等乐普心电设备，对于乐普心电设备，可以直接以原始文件作为AI分析文件。
如果是第三方设备集成或者没有原始心电文件，则需要将数据整理为乐普标准ECG传输格式用于AI分析。

### 乐普心电设备ECG文件
由乐普设备记录生成，如ER1、ER2等，文件为私有格式，可以使用对应设备的文件解析协议来解读。参考`./ecg_demo_file/*.dat`。

### 乐普标准单导ECG文件
乐普AI开放平台单导ECG数据标准格式，以`","`作为分割存储为.txt文件。参考`./ecg_demo_file/*.txt`。

文件具体格式内容如下：
| 字段 | 内容 | 备注 |
| ---- | ---- | ---- |
| 滤波配置 | F-0-01 | 滤波配置信息，目前固定。如果需要支持厂家自己的滤波算法则需要与乐普联系确认 |
| 采样率 | 250/125 | 采样率。目前支持125/250/500/1000采样率，特殊采样率需要与乐普联系确认 |
| 导联 | I/II | 导联信息，会影响AI分析算法结果 |
| 放大系数 | float数值 | 记录值 = 心电毫伏值 * 放大系数；与实际保持一致 |
| 记录值 | 心电记录值序列 | 记录值 = 心电毫伏值 * 放大系数 |

> 注： 心电数据的有效信息为心电毫伏值数据，但是压缩文件，加快分析速度，一般会将毫伏值float类型的数据乘以一个放大系数讲记录值规整为int类型数据。

如："F-0-01,125,II,405,32,45,54,57,63,66,69,85,102, ..."
则：滤波配置 -> F-0-01；采样率 -> 125；II导联；放大系数 -> 405；记录值 -> "32,45,54,57,63,66,69,85,102, ..."